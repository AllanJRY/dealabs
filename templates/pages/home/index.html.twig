{% extends 'base.html.twig' %}

{% block title %}Hello HomeController!{% endblock %}

{% block body %}
{#    <div class="container-fluid bg-dark">#}
{#        <div class="container">#}
{#            <div class="row">#}
{#                <div id="carouselExampleControls" class="carousel slide col-12" data-bs-ride="carousel">#}
{#                    <div class="carousel-inner d-flex">#}
{#                        {% for i in range(0, categories|length-1, 5) %}#}
{#                            <div class="carousel-item justify-content-center d-flex">#}
{#                                {% for y in 0..4 %}#}
{#                                    {% if categories[i+y] is defined %}#}
{#                                        <button class="btn btn-danger">{{ categories[i+y].title }}</button>#}
{#                                    {% endif %}#}
{#                                {% endfor %}#}
{#                            </div>#}
{#                        {% endfor %}#}
{#                    </div>#}
{#                    <button class="carousel-control-prev btn-secondary" type="button"#}
{#                            data-bs-target="#carouselExampleControls"#}
{#                            data-bs-slide="prev">#}
{#                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>#}
{#                        <span class="visually-hidden">Previous</span>#}
{#                    </button>#}
{#                    <button class="carousel-control-next btn-secondary" type="button"#}
{#                            data-bs-target="#carouselExampleControls"#}
{#                            data-bs-slide="next">#}
{#                        <span class="carousel-control-next-icon" aria-hidden="true"></span>#}
{#                        <span class="visually-hidden">Next</span>#}
{#                    </button>#}
{#                </div>#}
{#            </div>#}
{#        </div>#}
{#    </div>#}
    <div class="container-fluid border-bottom border-dark">

        <div class="container">
            <div class="row align-items-center">
                <nav class="navbar navbar-expand-md navbar-light col-12">
                    <div class="container-fluid">
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                                data-bs-target="#navbarType"
                                aria-controls="navbarType" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarType">
                            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                                <li class="nav-item">
                                    <a class="nav-link active" href="#">A la une</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">Hot</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
            </div>
        </div>
    </div>
    <div class="container-fluid bg-secondary">
        <div class="container">
            <div class="row">
                <div class="col-lg-9 col-12">
                    {% for deal in deals %}
                        <div class="card mt-3 mb-3">
                            <div class="card-horizontal">
                                <div class="col-4 m-3">
                                    <img src="http://via.placeholder.com/300x180" alt="">
                                </div>
                                <div class="card-body col-8">
                                    <div class="row justify-content-between ">
                                        <div class="col-8">
                                            <div class="btn-group" role="group">
                                                <button type="button" class="btn text-primary">
                                                    <i class="fa fa-minus"></i>
                                                </button>
                                                <button type="button" class="btn text-danger fw-bold">
                                                    0°
                                                </button>
                                                <button type="button" class="btn text-danger">
                                                    <i class="fas fa-plus"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <p class="col-4 text-muted text-right align-items-center m-0 align-items-center">
                                            {% set time = date(deal.createdAt).diff(date('now')) %}
                                            <span><i class="fas fa-fire-alt"></i>
                                                {% if time.d > 0 %}
                                                    {{ deal.createdAt|date('d M') }}
                                                {% elseif time.h > 0 and time.d == 0 and time.m == 0 %}
                                                    il y a {{ time.h }} h et {{ time.i }}
                                                {% elseif time.s > 0 and time.h == 0 and time.d == 0 and time.m == 0 %}
                                                    il y a {{ time.i }}
                                                {% endif %}
                                            </span>
                                        </p>
                                    </div>
                                    <h4 class="card-title fw-bold">{{ deal.title|capitalize }}</h4>
                                    <p>
                                        <span class="text-danger">0,0€</span>
                                        <span class="text-muted">| Bon plans</span>
                                        <span class="text-primary">Amazon</span>
                                    </p>
                                    <p class="card-text">{{ deal.description|length > 100 ? deal.description|slice(0, 100) ~ '...' : deal.description }} <a class="text-decoration-none text-dark fw-bold"
                                                                         href="#">Afficher plus</a></p>
                                    <div class="row justify-content-between align-items-center">
                                        <div class="col-lg-6 col-3">
                                            <p>{{ deal.author.username }}</p>
                                        </div>
                                        <div class="col-lg-6 col-9 row">
                                            <a class="btn text-dark text-decoration-none col-3 border-dark border-1 m-3"
                                               type="button"><i class="fas fa-comment"></i> 0</a>
                                            <a class="btn btn-primary col-6 m-3" type="button">Voir le deal <i
                                                        class="fas fa-external-link-square-alt"></i></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
            <div class="col-lg-3 col-12">
                <p>En construction</p>
            </div>
        </div>
    </div>
    </div>
{% endblock %}

