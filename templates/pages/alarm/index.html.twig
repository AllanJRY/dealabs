{% extends '/pages/profil/layout_profil.html.twig' %}

{% block title %}Alarm index{% endblock %}

{% block main_profile_section %}
    <div class="row rounded m-3 mb-0 bg-white">
        <a class="btn col-6 text-primary {% if app.request.attributes.get('_route') != 'profil_keyword_alarms' %} btn-light text-dark{% endif %}"
           href="{{ path('profil_keyword_alarms') }}">Fil d'alertes</a>
        <a class="btn col-6 text-primary {% if app.request.attributes.get('_route') != 'alarm_index' %} btn-light text-dark{% endif %}"
           href="{{ path('alarm_index') }}">Gérer mes alertes</a>
    </div>
    <div class="row rounded m-3 mb-0 mt-0 bg-white p-3">
        <h3>Nouvelle alerte</h3>
        {{ include('pages/alarm/_form.html.twig', {'button_label': 'Créer une alerte'}) }}
    </div>
    <div class="row rounded m-3 mt-0 bg-white">
        <h3>Mes alertes sauvegardées </h3>
        <table class="table">
            <tbody>
            {% for alarm in alarms %}
                <tr>
                    <td><h5>{{ alarm.search }}</h5></td>
                    <td class="text-end">
                        <a class="btn text-primary" href="{{ path('alarm_edit', {'id': alarm.id}) }}"><i class="fas fa-pen"></i></a>
                        {{ include('pages/alarm/_delete_form.html.twig') }}
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="5">no records found</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
